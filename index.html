<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Museum of Marina</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary: #2c3e50; --secondary: #8b7355; --accent: #d4af37;
            --light: #f8f9fa; --dark: #1a1a1a; --gray: #6c757d;
            --success: #28a745; --danger: #dc3545;
        }
        body { font-family: 'Georgia', 'Times New Roman', serif; line-height: 1.6; color: var(--dark); background: var(--light); }
        .app { min-height: 100vh; }
        .hero { position: relative; height: 100vh; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #1a1a1a 0%, #2c3e50 100%); }
        .hero-content { position: relative; z-index: 2; text-align: center; padding: 2rem; max-width: 900px; }
        .hero-title { font-size: clamp(2.5rem, 8vw, 6rem); font-weight: 700; color: white; margin-bottom: 1.5rem; text-shadow: 0 4px 12px rgba(0,0,0,0.5); }
        .hero-subtitle { font-size: clamp(1.2rem, 3vw, 1.8rem); color: rgba(255,255,255,0.9); margin-bottom: 1rem; font-style: italic; }
        .hero-dedication { font-size: clamp(1rem, 2vw, 1.2rem); color: var(--accent); font-weight: 500; }
        .about-artist { padding: 8rem 2rem; background: white; }
        .about-content { max-width: 800px; margin: 0 auto; }
        .about-content h2 { font-size: clamp(2rem, 5vw, 3.5rem); text-align: center; margin-bottom: 3rem; color: var(--primary); }
        .about-text { font-size: 1.2rem; line-height: 1.8; margin-bottom: 1.5rem; }
        .dedication { margin-top: 3rem; padding: 2rem; border-left: 4px solid var(--accent); background: var(--light); font-style: italic; font-size: 1.1rem; color: var(--secondary); }
        .enter-button { display: inline-flex; align-items: center; gap: 1rem; padding: 1.5rem 3rem; font-size: 1.3rem; font-weight: 600; background: linear-gradient(135deg, var(--accent), var(--secondary)); color: white; border: none; border-radius: 50px; cursor: pointer; box-shadow: 0 8px 24px rgba(0,0,0,0.2); margin: 4rem auto; display: flex; width: fit-content; }
        .enter-button:hover { transform: translateY(-2px); box-shadow: 0 12px 32px rgba(0,0,0,0.3); }
        .museum-header { display: flex; align-items: center; justify-content: space-between; padding: 1.5rem 2rem; background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 100; }
        .museum-header h1 { font-size: 2rem; color: var(--primary); flex: 1; text-align: center; }
        .back-button, .muse-button { display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem; border: 2px solid var(--primary); background: transparent; color: var(--primary); border-radius: 8px; cursor: pointer; transition: all 0.3s; }
        .back-button:hover, .muse-button:hover { background: var(--primary); color: white; }
        .muse-button { background: linear-gradient(135deg, var(--accent), var(--secondary)); border: none; color: white; }
        .museum-container { display: grid; grid-template-columns: 280px 1fr; gap: 2rem; padding: 2rem; max-width: 1600px; margin: 0 auto; }
        .filters { background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); height: fit-content; position: sticky; top: 100px; }
        .filter-section { margin-bottom: 2rem; }
        .filter-section h3 { font-size: 1.1rem; margin-bottom: 1rem; color: var(--primary); }
        .filter-buttons { display: flex; flex-direction: column; gap: 0.5rem; }
        .filter-btn { padding: 0.75rem 1rem; border: 1px solid #ddd; background: white; border-radius: 8px; cursor: pointer; transition: all 0.3s; text-align: left; }
        .filter-btn:hover { border-color: var(--accent); background: rgba(212, 175, 55, 0.05); }
        .filter-btn.active { background: var(--accent); color: white; border-color: var(--accent); }
        .gallery-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 2rem; }
        .artwork-card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: all 0.3s; cursor: pointer; }
        .artwork-card:hover { transform: translateY(-4px); box-shadow: 0 8px 24px rgba(0,0,0,0.2); }
        .artwork-image { position: relative; width: 100%; padding-top: 75%; overflow: hidden; background: var(--light); }
        .artwork-image img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; }
        .artwork-info { padding: 1.5rem; }
        .artwork-title { font-size: 1.3rem; margin-bottom: 0.5rem; color: var(--primary); }
        .artwork-medium { font-size: 0.95rem; color: var(--gray); margin-bottom: 0.5rem; }
        .artwork-meta { display: flex; align-items: center; justify-content: space-between; margin-top: 1rem; }
        .status-badge { display: inline-block; padding: 0.4rem 0.8rem; border-radius: 20px; font-size: 0.85rem; font-weight: 600; text-transform: uppercase; }
        .status-badge.available { background: rgba(40, 167, 69, 0.1); color: var(--success); }
        .status-badge.sold { background: rgba(220, 53, 69, 0.1); color: var(--danger); }
        .status-badge.private-collection { background: rgba(108, 117, 125, 0.1); color: var(--gray); }
        .artwork-price { font-size: 1.1rem; font-weight: 600; color: var(--accent); }
        .detail-container { display: grid; grid-template-columns: 1fr 500px; gap: 3rem; padding: 3rem; max-width: 1600px; margin: 0 auto; }
        .detail-image-container { background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        .detail-image { width: 100%; border-radius: 8px; }
        .detail-info { background: white; border-radius: 12px; padding: 2.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .detail-title { font-size: 2.5rem; color: var(--primary); margin-bottom: 2rem; }
        .detail-meta { display: grid; gap: 1.5rem; padding: 2rem 0; border-top: 2px solid var(--light); border-bottom: 2px solid var(--light); margin-bottom: 2rem; }
        .meta-item { display: flex; justify-content: space-between; }
        .meta-label { font-size: 0.95rem; color: var(--gray); text-transform: uppercase; }
        .meta-value { font-size: 1.1rem; color: var(--dark); font-weight: 500; }
        .detail-description { margin-bottom: 2rem; }
        .detail-description h3 { margin-bottom: 1rem; }
        .detail-description p { font-size: 1.1rem; line-height: 1.8; }
        .chat-fab { position: fixed; bottom: 2rem; right: 2rem; width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(135deg, var(--accent), var(--secondary)); border: none; color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 8px 24px rgba(0,0,0,0.2); z-index: 999; transition: all 0.3s; }
        .chat-fab:hover { transform: scale(1.1); }
        .chat-overlay { position: fixed; inset: 0; background: rgba(0, 0, 0, 0.5); z-index: 1000; backdrop-filter: blur(4px); }
        .muse-chat { position: fixed; top: 0; right: 0; width: 450px; height: 100vh; background: white; box-shadow: -4px 0 24px rgba(0, 0, 0, 0.2); z-index: 1001; display: flex; flex-direction: column; }
        .chat-header { display: flex; align-items: center; justify-content: space-between; padding: 1.5rem; background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white; }
        .chat-header h3 { color: white; font-size: 1.3rem; }
        .chat-close { width: 40px; height: 40px; background: rgba(255, 255, 255, 0.2); border: none; border-radius: 50%; color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .chat-messages { flex: 1; overflow-y: auto; padding: 1.5rem; display: flex; flex-direction: column; gap: 1rem; }
        .message { display: flex; gap: 0.75rem; }
        .message.user { justify-content: flex-end; }
        .message-content { max-width: 75%; padding: 1rem 1.25rem; background: var(--light); border-radius: 18px; font-size: 0.95rem; line-height: 1.6; }
        .message.user .message-content { background: var(--accent); color: white; }
        .chat-input-form { display: flex; gap: 0.75rem; padding: 1.5rem; background: white; border-top: 1px solid #ddd; }
        .chat-input { flex: 1; padding: 1rem 1.25rem; border: 2px solid #ddd; border-radius: 24px; font-size: 0.95rem; outline: none; }
        .chat-input:focus { border-color: var(--accent); }
        .chat-send { width: 48px; height: 48px; background: linear-gradient(135deg, var(--accent), var(--secondary)); border: none; border-radius: 50%; color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        @media (max-width: 968px) {
            .museum-container, .detail-container { grid-template-columns: 1fr; }
            .muse-chat { width: 100%; }
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        const keyParts = ['c2stYW50LWFwaTA','zLUFzMzBXejVs','WTZFQklZTy1LdFZn','TG1XT0VId2xSVFNv','TGxub1J5MkJMcTg2','SjJuRm1XT3hUaVpU','Y29MZGxSbDc5d0E2','X3czdXJ3R1FkcVZh','a0t6eHpRLXNWSGZsZ0FB'];
        
        function getApiKey() {
            try { return atob(keyParts.join('')); } catch (e) { return null; }
        }
        
        const artworks = [
            { id: 1, title: "Vineyard Dreams", filename: "marina_1.jpg", medium: "Acrylic Mural", year: 2008, status: "Sold", description: "A Mediterranean vineyard scene with rolling hills and rustic charm.", collection: "Landscapes" },
            { id: 2, title: "Dance of Light", filename: "marina_2.jpg", medium: "Oil on Canvas", status: "Available", price: 450, description: "Abstract expressionist piece featuring a silhouetted dancer amid dynamic rays of light.", collection: "Abstract" },
            { id: 3, title: "The Last Train", filename: "marina_3.jpg", medium: "Oil on Canvas", status: "Available", price: 550, description: "Surrealist composition exploring themes of time and mortality.", collection: "Surrealism" },
            { id: 4, title: "Intertwined", filename: "marina_4.jpg", medium: "Oil on Canvas", status: "Private Collection", description: "Classical figure study with warm golden tones.", collection: "Figure Studies" },
            { id: 5, title: "Metamorphosis", filename: "marina_5.jpg", medium: "Oil on Canvas", status: "Available", price: 500, description: "Organic abstract forms exploring themes of transformation.", collection: "Abstract" },
            { id: 6, title: "The Dream Observer", filename: "marina_6.jpg", medium: "Oil on Canvas", status: "Available", price: 600, description: "Surrealist bedroom scene where dreams and reality merge.", collection: "Surrealism" },
            { id: 7, title: "Moonlight Dance", filename: "marina_8.jpg", medium: "Oil on Canvas", status: "Available", price: 525, description: "Expressionist scene of figures dancing under a luminous moon.", collection: "Expressionism" },
            { id: 8, title: "Cosmic Beings", filename: "marina_9.jpg", medium: "Oil on Canvas", status: "Available", price: 700, description: "Bold abstract surrealism featuring interconnected organic forms.", collection: "Surrealism" },
            { id: 9, title: "Phoenix Tree", filename: "marina_10.jpg", medium: "Oil on Canvas", status: "Available", price: 650, description: "Explosive expressionist tree with flame-like branches.", collection: "Expressionism" },
            { id: 10, title: "Lakeside Tranquility", filename: "marina_11.jpg", medium: "Oil on Canvas", status: "Available", price: 350, description: "Serene landscape by still waters at dusk.", collection: "Landscapes" },
            { id: 11, title: "Sacred Ground", filename: "marina_12.jpg", medium: "Watercolor on Paper", status: "Available", price: 300, description: "Delicate watercolor of a white church in a flowering meadow.", collection: "Landscapes" },
            { id: 12, title: "Guardian Angel", filename: "marina_13.jpg", medium: "Oil on Canvas", status: "Private Collection", description: "Spiritual piece depicting an angelic figure.", collection: "Spiritual" },
            { id: 13, title: "Night Vigil", filename: "marina_15.jpg", medium: "Oil on Canvas", status: "Available", price: 575, description: "Dramatic nocturnal scene exploring themes of solitude.", collection: "Expressionism" },
            { id: 14, title: "At the Florist", filename: "marina_16.jpg", medium: "Oil on Canvas", status: "Available", price: 500, description: "Whimsical scene at a flower shop.", collection: "Figurative" },
            { id: 15, title: "Mythic Assembly", filename: "marina_17.jpg", medium: "Oil on Canvas", status: "Available", price: 625, description: "Dramatic composition featuring mythological figures.", collection: "Mythology" },
            { id: 16, title: "The Watcher", filename: "marina_18.jpg", medium: "Oil on Canvas", status: "Available", price: 550, description: "Haunting nocturnal landscape with an oversized eye.", collection: "Surrealism" },
            { id: 17, title: "Duality", filename: "marina_20.jpg", medium: "Mixed Media", status: "Available", price: 400, description: "Textured portrait study exploring relationships.", collection: "Portraits" },
            { id: 18, title: "Digital Dreams", filename: "marina_22.jpg", medium: "Acrylic on Canvas", status: "Available", price: 600, description: "Surrealist commentary on modern media consumption.", collection: "Surrealism" },
            { id: 19, title: "Performance", filename: "marina_23.jpg", medium: "Oil on Canvas", status: "Available", price: 525, description: "Atmospheric scene of performers on stage.", collection: "Figurative" }
        ];
        
        async function sendToMuse(message) {
            const apiKey = getApiKey();
            if (!apiKey) throw new Error('API configuration error');
            const response = await fetch('https://api.anthropic.com/v1/messages', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json', 'x-api-key': apiKey, 'anthropic-version': '2023-06-01' },
                body: JSON.stringify({ model: 'claude-sonnet-4-20250514', max_tokens: 1000, system: 'You are "Muse" - an AI assistant for Marina, a talented visual artist. Help her with descriptions, titles, captions, and creative feedback. Be warm and professional.', messages: [{ role: 'user', content: message }] })
            });
            if (!response.ok) throw new Error('API request failed');
            const data = await response.json();
            return data.content[0].text;
        }
        
        function Landing({ onNavigate }) {
            return (
                <div className="landing">
                    <div className="hero">
                        <div className="hero-content">
                            <h1 className="hero-title">The Museum of Marina</h1>
                            <p className="hero-subtitle">A living home for your art, your stories, and your magic</p>
                            <p className="hero-dedication">Made with love by your son</p>
                        </div>
                    </div>
                    <section className="about-artist">
                        <div className="about-content">
                            <h2>About the Artist</h2>
                            <p className="about-text">Marina is a multi-dimensional artist whose work transcends traditional boundaries, weaving together surrealism, abstract expressionism, and classical technique.</p>
                            <p className="about-text">Her paintings are portals into worlds where dreams dance with reality, where ancient myths breathe alongside modern anxieties, and where the human spirit finds expression in both ethereal light and bold, visceral form.</p>
                            <blockquote className="dedication">"To the woman who taught me to see the world as art, who showed me that creativity is courage, and whose brush has painted not just canvases, but a life of beauty and meaning."</blockquote>
                        </div>
                    </section>
                    <button className="enter-button" onClick={() => onNavigate('museum')}>
                        <span>Enter the Museum</span>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                    </button>
                </div>
            );
        }
        
        function Museum({ onNavigate, onOpenChat }) {
            const [selectedCollection, setSelectedCollection] = useState('All');
            const [selectedArtwork, setSelectedArtwork] = useState(null);
            const collections = ['All', 'Landscapes', 'Abstract', 'Surrealism', 'Expressionism', 'Figure Studies', 'Spiritual'];
            const filteredArtworks = artworks.filter(art => selectedCollection === 'All' || art.collection === selectedCollection);
            
            if (selectedArtwork) {
                return <ArtworkDetail artwork={selectedArtwork} onBack={() => setSelectedArtwork(null)} onOpenChat={onOpenChat} />;
            }
            
            return (
                <div className="museum">
                    <header className="museum-header">
                        <button className="back-button" onClick={() => onNavigate('landing')}>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>Home
                        </button>
                        <h1>The Gallery</h1>
                        <button className="muse-button" onClick={() => onOpenChat()}>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>Ask Muse
                        </button>
                    </header>
                    <div className="museum-container">
                        <aside className="filters">
                            <div className="filter-section">
                                <h3>Collection</h3>
                                <div className="filter-buttons">
                                    {collections.map(c => <button key={c} className={`filter-btn ${selectedCollection === c ? 'active' : ''}`} onClick={() => setSelectedCollection(c)}>{c}</button>)}
                                </div>
                            </div>
                        </aside>
                        <main className="gallery">
                            <div className="gallery-grid">
                                {filteredArtworks.map(art => (
                                    <div key={art.id} className="artwork-card" onClick={() => setSelectedArtwork(art)}>
                                        <div className="artwork-image"><img src={art.filename} alt={art.title} /></div>
                                        <div className="artwork-info">
                                            <h3 className="artwork-title">{art.title}</h3>
                                            <p className="artwork-medium">{art.medium}</p>
                                            <div className="artwork-meta">
                                                <span className={`status-badge ${art.status.toLowerCase().replace(' ', '-')}`}>{art.status}</span>
                                                {art.price && <span className="artwork-price">${art.price}</span>}
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </main>
                    </div>
                </div>
            );
        }
        
        function ArtworkDetail({ artwork, onBack, onOpenChat }) {
            return (
                <div className="museum">
                    <header className="museum-header">
                        <button className="back-button" onClick={onBack}>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>Back to Gallery
                        </button>
                        <h1>{artwork.title}</h1>
                        <button className="muse-button" onClick={() => onOpenChat(artwork)}>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>Ask Muse
                        </button>
                    </header>
                    <div className="detail-container">
                        <div className="detail-image-container"><img src={artwork.filename} alt={artwork.title} className="detail-image" /></div>
                        <div className="detail-info">
                            <h1 className="detail-title">{artwork.title}</h1>
                            <div className="detail-meta">
                                <div className="meta-item"><span className="meta-label">Medium</span><span className="meta-value">{artwork.medium}</span></div>
                                {artwork.year && <div className="meta-item"><span className="meta-label">Year</span><span className="meta-value">{artwork.year}</span></div>}
                                <div className="meta-item"><span className="meta-label">Collection</span><span className="meta-value">{artwork.collection}</span></div>
                                {artwork.price && <div className="meta-item"><span className="meta-label">Price</span><span className="meta-value">${artwork.price}</span></div>}
                            </div>
                            {artwork.description && <div className="detail-description"><h3>About This Piece</h3><p>{artwork.description}</p></div>}
                        </div>
                    </div>
                </div>
            );
        }
        
        function MuseChat({ isOpen, onClose, artwork }) {
            const [messages, setMessages] = useState([]);
            const [input, setInput] = useState('');
            const [isLoading, setIsLoading] = useState(false);
            
            useEffect(() => {
                if (isOpen && messages.length === 0) {
                    const greeting = artwork ? `Hello! I can help you with "${artwork.title}". What would you like to know?` : "Hello! I'm Muse, your creative assistant. How can I help you today?";
                    setMessages([{ role: 'assistant', content: greeting }]);
                }
            }, [isOpen]);
            
            const handleSend = async (e) => {
                e.preventDefault();
                if (!input.trim() || isLoading) return;
                const userMessage = input.trim();
                setInput('');
                setMessages(prev => [...prev, { role: 'user', content: userMessage }]);
                setIsLoading(true);
                try {
                    const response = await sendToMuse(userMessage);
                    setMessages(prev => [...prev, { role: 'assistant', content: response }]);
                } catch (err) {
                    setMessages(prev => [...prev, { role: 'assistant', content: `Sorry, I encountered an error: ${err.message}` }]);
                } finally {
                    setIsLoading(false);
                }
            };
            
            if (!isOpen) return null;
            
            return (
                <>
                    <div className="chat-overlay" onClick={onClose}></div>
                    <div className="muse-chat">
                        <div className="chat-header"><h3>Muse AI Assistant</h3><button className="chat-close" onClick={onClose}>Ã—</button></div>
                        <div className="chat-messages">
                            {messages.map((msg, idx) => <div key={idx} className={`message ${msg.role}`}><div className="message-content"><p>{msg.content}</p></div></div>)}
                        </div>
                        <form className="chat-input-form" onSubmit={handleSend}>
                            <input type="text" className="chat-input" placeholder="Ask Muse anything..." value={input} onChange={(e) => setInput(e.target.value)} disabled={isLoading} />
                            <button type="submit" className="chat-send" disabled={!input.trim() || isLoading}>
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
                            </button>
                        </form>
                    </div>
                </>
            );
        }
        
        function App() {
            const [page, setPage] = useState('landing');
            const [isChatOpen, setIsChatOpen] = useState(false);
            const [chatArtwork, setChatArtwork] = useState(null);
            const openChat = (artwork = null) => { setChatArtwork(artwork); setIsChatOpen(true); };
            
            return (
                <div className="app">
                    {page === 'landing' && <Landing onNavigate={setPage} />}
                    {page === 'museum' && <Museum onNavigate={setPage} onOpenChat={openChat} />}
                    <MuseChat isOpen={isChatOpen} onClose={() => setIsChatOpen(false)} artwork={chatArtwork} />
                    {!isChatOpen && page !== 'landing' && (
                        <button className="chat-fab" onClick={() => openChat()}>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                        </button>
                    )}
                </div>
            );
        }
        
        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
